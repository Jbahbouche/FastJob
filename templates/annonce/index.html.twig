{% extends 'base.html.twig' %}

{% block title %}Liste des offres d'emploi{% endblock %}

{% block body %}
<main class="form-signin2 card shadow">
    <div class="text-center  text-custom mb-4 d-flex justify-content-start align-items-center">
        <h3 >Toutes les offres d'emploi</h1>
    </div>
    
    {% for annonce in annonces %}
        <div class='card shadow ps-2 mb-2 pt-2'>
            <div class="d-flex justify-content-between">
                <h3 class="ms-2 text-custom">{{ annonce.titre }}</h2>
                <div class="me-2">
                    <p class='mb-0 text-custom'>Salaire : {{ annonce.salaire }}k€</p>
                    <p class=' text-custom'>Publiée le : {{ annonce.createdAt ? annonce.createdAt|date('d/m/Y') : '' }}</p>
                </div>
            </div>
            <div class='d-flex align-items-center'>
                <img src="{{ asset('assets/img/logo/' ~ annonce.getSociete().logo) }}" class="me-3" style="width: 30px;"alt="logo">
                <h5 class=' text-custom'>{{ annonce.getSociete().nom }}</h5>
                <h6> - {{ annonce.departement }} - {{ annonce.ville }}</h6>
            </div>
            <p class="small mx-1">{{ annonce.profil | u.truncate(1000, '...') }}</p>
            <div class='d-flex justify-content-end mb-3'>
                <a href="{{ path('app_annonce_show', {'id': annonce.id}) }}" class="btn btn-custom me-2" style="color: white; padding: 5px;">Détails</a>
            </div>
        </div>
    {% endfor %}
{% endblock %}
